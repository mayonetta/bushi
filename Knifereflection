using System.Collections;
using System.Collections.Generic;
suing UnityEngine;

public class Knifereflection : MonoBehawviour
{
  TrailRenderer Trailrenderer;
  Rigidbody Rigidbody;
  
  void Start()
  {
    Trailrenderer = GetComponent<TrailRenderer>();
    Rigidbody = GetComponent<Rigidbody>();
  }
  
  void OnCollisionEnter(Collision Knifecollision)
  {
    if (knifecollision.CompareTag("HAND"))
    {
      Trailrenderer.Clear();
      
      StartCoroutine(WaitforSec());
    }
  }
  
  IEnumrator WaitforSec()
  {
    Vector3 Knifeposition = this.transform.position;
    Vector3 Knifedirection = new Vector3(1, 0, 0);
    
    this.transform.position += Vector3.MoveTowards(Knifeposition, Knifedirection, 30f * Time.deltaTime);
    
    yield return new WaitForSeconds(0.1f);
    
    Trailrenderer.Clear();
    Rigidbody.velocity = Vector3.zero;
    this.gameObject.SetActive(false);
  }
}
